# ScanPro QR - MVP 功能规格（精简版）
## 4-6周快速上线版本

**产品名称**：ScanPro QR  
**版本**：MVP v1.0  
**创建日期**：2026年1月29日  
**目标**：快速验证核心价值，抢占市场先机

---

## 📋 目录

- [一、产品定位](#一产品定位)
- [二、MVP 核心功能](#二mvp-核心功能)
- [三、技术架构](#三技术架构)
- [四、开发计划](#四开发计划)
- [五、成功指标](#五成功指标)
- [六、后续迭代规划](#六后续迭代规划)

---

## 一、产品定位

### 1.1 核心价值主张

**一句话描述**：快速、安全、易用的 QR 码扫描和生成工具

**目标用户**：
- 主要：普通用户（日常扫描需求）
- 次要：小商户（生成支付码、WiFi码）

**核心差异化**：
- ✅ **快速**：扫描速度 < 0.5秒
- ✅ **安全**：URL 安全检查（Phase 2）
- ✅ **简洁**：界面清爽，操作直观

### 1.2 不做的事情（MVP阶段）

❌ 不做云同步  
❌ 不做批量处理  
❌ 不做 OCR 识别  
❌ 不做 AI 分类  
❌ 不做企业功能  
❌ 不做 AR/区块链/IoT  

**原因**：聚焦核心，快速验证

---

## 二、MVP 核心功能

### 2.1 扫描功能（必须）

#### 2.1.1 实时相机扫描

**功能描述**：
- 打开应用即进入扫描界面
- 自动检测取景框内的 QR 码/条码
- 扫描成功后震动+声音反馈
- 自动显示结果页面

**技术规格**：
- 识别速度：< 0.5秒（可接受）
- 支持格式：QR Code, EAN-13, EAN-8, UPC-A, UPC-E, Code 128, Code 39
- 支持角度：0-45度（标准范围）
- 成功率：> 95%（标准光照条件）

**实现方案**：
- Android: ML Kit Barcode Scanning（Google 官方）
- iOS: Vision Framework（Apple 官方）
- 无需自研算法，降低技术风险

#### 2.1.2 手电筒

**功能描述**：
- 扫描界面一键开关手电筒
- 低光环境提示开启手电筒

**实现方案**：
- 使用系统相机 API
- 检测环境光强度，自动提示

#### 2.1.3 从图片扫描

**功能描述**：
- 从相册选择图片扫描
- 支持单张图片
- 显示扫描结果

**技术规格**：
- 支持格式：JPG, PNG
- 最大分辨率：4K（足够）
- 处理速度：< 1秒

**实现方案**：
- 使用相同的 ML Kit / Vision Framework
- 图片预处理（压缩、旋转）

### 2.2 生成功能（必须）

#### 2.2.1 支持的 QR 码类型

**基础类型**（MVP 只做这些）：
- ✅ URL（网址）
- ✅ 文本（纯文本）
- ✅ 联系人（vCard）
- ✅ WiFi（网络配置）
- ✅ 电话（电话号码）
- ✅ 短信（SMS）

**不做的高级类型**（Phase 2+）：
- ❌ 日历事件
- ❌ 地理位置
- ❌ 加密货币
- ❌ 社交媒体分享

#### 2.2.2 样式定制（基础）

**颜色定制**：
- 前景色：8 种预设颜色（黑、蓝、绿、红、紫、橙、粉、灰）
- 背景色：白色/黑色/透明
- 不做渐变色、自定义颜色（Phase 2）

**尺寸定制**：
- 3 种预设尺寸：小（256x256）、中（512x512）、大（1024x1024）
- 不做自定义尺寸（Phase 2）

**Logo 添加**：
- ❌ MVP 不做（Phase 2）

#### 2.2.3 导出与分享

**导出格式**：
- PNG（透明背景）
- JPG（白色背景）

**分享方式**：
- 保存到相册
- 分享到其他应用（系统分享菜单）
- 复制图片到剪贴板

### 2.3 历史记录（必须）

#### 2.3.1 基础功能

**列表显示**：
- 时间倒序排列
- 显示：类型图标、内容摘要、扫描时间
- 点击查看详情

**搜索功能**：
- 简单文本搜索（搜索内容）
- 不做高级筛选（Phase 2）

**管理功能**：
- 删除单条记录
- 清空所有记录
- 不做批量操作（Phase 2）

**存储**：
- 本地 SQLite 数据库
- 最多保存 1000 条（免费版）
- 不做云同步（Phase 2）

#### 2.3.2 详情页面

**显示内容**：
- 完整内容
- 扫描时间
- 码类型
- QR 码预览图

**快速操作**：
- URL：在浏览器打开、复制链接
- WiFi：一键连接、复制密码
- 联系人：保存到通讯录、复制 vCard
- 文本：复制文本、分享
- 电话：拨打电话、复制号码
- 短信：打开短信应用

### 2.4 用户界面（必须）

#### 2.4.1 设计原则

**简洁至上**：
- 主界面：扫描按钮占 80% 屏幕
- 底部导航：3 个标签（扫描、生成、历史）
- 减少层级，最多 2 层

**Material Design / iOS Design Guidelines**：
- Android：Material Design 3
- iOS：iOS Design Guidelines
- 不做自定义主题（Phase 2）

#### 2.4.2 核心页面

**1. 扫描页面**：
```
┌─────────────────────┐
│   [相机预览区域]      │
│                     │
│   [扫描框指示器]      │
│                     │
│   [手电筒按钮]        │
└─────────────────────┘
```

**2. 生成页面**：
```
┌─────────────────────┐
│  [类型选择]          │
│  URL | 文本 | WiFi  │
│                     │
│  [输入框]            │
│                     │
│  [QR码预览]          │
│                     │
│  [样式选择]          │
│  颜色 | 尺寸         │
│                     │
│  [保存/分享按钮]      │
└─────────────────────┘
```

**3. 历史记录页面**：
```
┌─────────────────────┐
│  [搜索框]            │
│                     │
│  [记录列表]          │
│  ┌───────────────┐  │
│  │ 📱 URL        │  │
│  │ https://...   │  │
│  │ 2小时前       │  │
│  └───────────────┘  │
│  ┌───────────────┐  │
│  │ 📞 电话       │  │
│  │ +86 138...    │  │
│  │ 1天前         │  │
│  └───────────────┘  │
└─────────────────────┘
```

### 2.5 权限管理

**必需权限**：
- 相机权限（扫描）
- 存储权限（保存历史、保存图片）

**可选权限**：
- 位置权限（WiFi 码可能需要，但 MVP 可跳过）
- 联系人权限（保存联系人时申请）

**权限说明**：
- 首次使用时清晰说明权限用途
- 拒绝权限时给出友好提示

---

## 三、技术架构

### 3.1 技术选型

#### 3.1.1 跨平台方案

**推荐：Flutter**

**理由**：
- ✅ 一套代码，双平台发布
- ✅ 性能接近原生
- ✅ 开发效率高
- ✅ Google 支持，生态成熟

**备选：React Native**
- 如果团队更熟悉 React

#### 3.1.2 扫描库

**Android**：
- ML Kit Barcode Scanning（Google 官方）
- 优点：免费、准确、易用
- 缺点：需要 Google Play Services

**iOS**：
- Vision Framework（Apple 官方）
- 优点：原生支持、性能好
- 缺点：仅 iOS 11+

**Flutter 封装**：
- `mobile_scanner` 或 `qr_code_scanner`
- 封装 ML Kit 和 Vision Framework

#### 3.1.3 数据库

**本地存储**：
- SQLite（通过 `sqflite`）
- 存储历史记录、用户设置

**数据结构**：
```sql
CREATE TABLE scan_history (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  type TEXT NOT NULL,           -- 'url', 'text', 'wifi', etc.
  content TEXT NOT NULL,         -- 原始内容
  formatted_content TEXT,        -- 格式化后的内容（JSON）
  scan_time INTEGER NOT NULL,    -- 时间戳
  preview_image BLOB             -- QR码预览图（可选）
);
```

#### 3.1.4 QR 码生成

**Flutter 库**：
- `qr_flutter`：生成 QR 码图片
- 支持自定义颜色、尺寸

#### 3.1.5 状态管理

**推荐：Provider 或 Riverpod**
- 简单易用
- 适合中小型应用

**状态结构**：
- `ScanHistoryProvider`：历史记录管理
- `ScanProvider`：扫描状态管理
- `GenerateProvider`：生成状态管理

### 3.2 项目结构

```
lib/
├── main.dart
├── models/
│   ├── scan_result.dart
│   └── qr_type.dart
├── providers/
│   ├── scan_history_provider.dart
│   └── scan_provider.dart
├── screens/
│   ├── scan_screen.dart
│   ├── generate_screen.dart
│   └── history_screen.dart
├── widgets/
│   ├── qr_preview.dart
│   └── history_item.dart
├── services/
│   ├── scanner_service.dart
│   ├── qr_generator_service.dart
│   └── database_service.dart
└── utils/
    ├── constants.dart
    └── helpers.dart
```

### 3.3 第三方依赖

```yaml
dependencies:
  flutter:
    sdk: flutter
  
  # 扫描
  mobile_scanner: ^3.5.0
  
  # QR 生成
  qr_flutter: ^4.1.0
  
  # 数据库
  sqflite: ^2.3.0
  path: ^1.8.0
  
  # 状态管理
  provider: ^6.1.0
  
  # 权限
  permission_handler: ^11.0.0
  
  # 分享
  share_plus: ^7.0.0
  image_gallery_saver: ^2.0.0
  
  # 工具
  intl: ^0.18.0
  url_launcher: ^6.2.0
```

---

## 四、开发计划

### 4.1 时间线（6周）

#### Week 1: 项目搭建 + 扫描功能
- [ ] 创建 Flutter 项目
- [ ] 配置开发环境
- [ ] 集成扫描库
- [ ] 实现基础扫描界面
- [ ] 实现手电筒功能
- [ ] 测试扫描功能

#### Week 2: 生成功能
- [ ] 集成 QR 生成库
- [ ] 实现生成界面
- [ ] 实现 6 种 QR 码类型
- [ ] 实现基础样式定制
- [ ] 实现保存/分享功能
- [ ] 测试生成功能

#### Week 3: 历史记录
- [ ] 设计数据库结构
- [ ] 实现数据库服务
- [ ] 实现历史记录列表
- [ ] 实现详情页面
- [ ] 实现搜索功能
- [ ] 实现快速操作

#### Week 4: UI/UX 优化
- [ ] 完善界面设计
- [ ] 添加动画效果
- [ ] 优化用户体验
- [ ] 处理边界情况
- [ ] 错误处理

#### Week 5: 测试与修复
- [ ] 单元测试
- [ ] 集成测试
- [ ] 真机测试（Android + iOS）
- [ ] Bug 修复
- [ ] 性能优化

#### Week 6: 发布准备
- [ ] 准备应用图标、启动页
- [ ] 编写应用描述
- [ ] 准备截图
- [ ] 提交应用商店审核
- [ ] 准备 Beta 测试

### 4.2 团队配置（最小化）

**1 名全栈开发者**（如果使用 Flutter）：
- 负责所有开发工作
- 6 周全职投入

**或 2 名开发者**：
- 1 名 Android 开发者
- 1 名 iOS 开发者
- 各自负责原生开发

**1 名 UI/UX 设计师**（兼职）：
- 第 1 周完成设计稿
- 第 4 周优化

**1 名测试人员**（兼职）：
- 第 5 周测试

---

## 五、成功指标

### 5.1 MVP 发布目标

**技术指标**：
- ✅ 扫描成功率 > 95%
- ✅ 扫描速度 < 0.5秒
- ✅ 应用启动时间 < 2秒
- ✅ 崩溃率 < 0.1%

**用户指标**（Beta 测试 2 周后）：
- 📊 下载量：1000+
- 📊 日活跃用户：100+
- 📊 留存率（次日）：> 30%
- 📊 留存率（7日）：> 15%

**功能使用率**：
- 📊 扫描功能使用率：> 80%
- 📊 生成功能使用率：> 50%
- 📊 历史记录查看率：> 40%

### 5.2 用户反馈收集

**反馈渠道**：
- 应用内反馈按钮
- 应用商店评论
- 邮件反馈
- Beta 测试群

**关键问题**：
1. 扫描速度是否满意？
2. 界面是否易用？
3. 最想要什么新功能？
4. 是否愿意付费？

---

## 六、后续迭代规划

### Phase 2（MVP 发布后 4-8 周）

**优先级功能**：
1. ✅ **安全检查**（核心差异化）
   - URL 恶意检测
   - 安全提示
   
2. ✅ **云同步**（用户需求）
   - 账号系统
   - 云端备份
   - 跨设备同步

3. ✅ **批量功能**（商业需求）
   - 批量扫描（50个）
   - 批量生成（20个）

4. ✅ **高级生成**（差异化）
   - Logo 添加
   - 更多样式
   - 模板系统

### Phase 3（3-6 个月后）

**高级功能**：
- OCR 识别
- AI 智能分类
- 统计分析
- 动态 QR 码

### Phase 4（6-12 个月后）

**企业功能**（如果有需求）：
- 团队协作
- API 服务
- 白标方案

---

## 七、风险与应对

### 7.1 技术风险

**风险**：扫描库不兼容某些设备  
**应对**：多设备测试，准备备选方案

**风险**：性能问题  
**应对**：性能测试，优化关键路径

### 7.2 市场风险

**风险**：竞品功能更丰富  
**应对**：聚焦核心体验，快速迭代

**风险**：用户不买账  
**应对**：Beta 测试验证，及时调整

### 7.3 时间风险

**风险**：开发延期  
**应对**：每周检查进度，及时调整范围

---

## 八、总结

### MVP 核心原则

1. **少即是多**：只做核心功能
2. **快速验证**：6 周上线，验证市场
3. **用户优先**：基于反馈迭代
4. **技术务实**：使用成熟方案，降低风险

### 关键成功因素

- ✅ 聚焦核心价值
- ✅ 快速上线验证
- ✅ 持续收集反馈
- ✅ 迭代优化产品

---

**下一步行动**：

1. ✅ 确认 MVP 功能范围
2. ⏭️ 开始技术架构设计
3. ⏭️ 准备开发环境
4. ⏭️ 开始 Week 1 开发任务
